name: Markdown To PDF

on: push

jobs:
  convert_via_pandoc:
    runs-on: ubuntu-20.04
    steps:
      - run: mkdir -p ~/.pandoc/templates
      - run: wget https://raw.githubusercontent.com/winkelband/pandoc-latex-g-brief2/master/g-brief2.latex -P ~/.pandoc/templates/
      - run: mkdir -p templates
      - run: wget https://raw.githubusercontent.com/winkelband/pandoc-latex-g-brief2/master/g-brief2.latex -P templates/
      - run: ls ~/.pandoc/templates
      - uses: docker://pandoc/latex:2.10
        with:
          args: "--data-dir ~/.pandoc/templates --standalone --template g-brief2 --pdf-engine xelatex --from markdown ./example/letter.md -o letter.pdf"
